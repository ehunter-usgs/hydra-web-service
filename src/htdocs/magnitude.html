<!doctype html>
<html>
<head>
   <title>Magnitude Endpoint Documentation</title>
   <meta charset="utf-8"/>
   <meta name="viewport" content="width=device-width, initial-scale=1"/>
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

   <link rel="stylesheet" href="http://earthquake.usgs.gov/theme/site/earthquake/index.css"/>
   <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons|Merriweather:400,400italic,700|Source+Sans+Pro:400,300,700"/>
   <link rel="stylesheet" href="css/index.css"/>
</head>

<body>

  <main role="main" class="page" aria-labelledby="page-header">
  <header class="page-header" id="page-header">
    <h1>Magnitude Endpoint Documentation</h1>
  </header>

  <div class="page-content">

  <p>
    The Magnitude endpoint allows users to request detailed information
    about a specific magnitude from Hydra given a Hydra Universal ID (HUID),
    an Author Name, an Installation Code, and a Magnitude Type.
  </p>

  <p>
    Data returned by the Hydra Web Service <em>Magnitude</em> endpoint
    is provided by the Hydra Oracle database.  Only one magnitude will be
    returned.
  </p>

  <h3>Syntax</h3>
  <p>
    A Hydra <em>Magnitude</em> details request takes the following form:
  </p>
  <pre>
    <code>ws/hydra/magnitude.json?.json?{parameters}</code>
  </pre>

  <h3>Parameters</h3>
    <h4 id="parameter-circle">
      Magnitude Request Parameters
    </h4>
  <ul class="parameters vertical separator no-style">
    <li id="huid">
      <header>
        <code>huid</code>
        <small>String</small>
      </header>
      <section>
        A String containing the Hydra Universal ID for the event that
        contains the desired magnitude.
      </section>
    </li>
    <li id="author">
      <header>
        <code>author</code>
        <small>String</small>
      </header>
      <section>
        A String containing the name of the author of the desired magnitude.
      </section>
    </li>
    <li id="installation">
      <header>
        <code>installation</code>
        <small>String</small>
      </header>
      <section>
        A String containing the installation code for the desired magnitude.
      </section>
    </li>
    <li id="type">
      <header>
        <code>type</code>
        <small>String</small>
      </header>
      <section>
        A String holding the type of the desired magnitude.
      </section>
    </li>
  </ul>

  <h3>Notes</h3>
    <aside class="parameter-note">
      It is expected that only a single Magnitude will be returned.
    </aside>

  <h2 id="response">Response</h2>
    <p>
      The response is formatted as a
      <a href="http://geojson.org/geojson-spec.html#feature-objects">
        GeoJSON FeatureObject</a>.
    </p>

  <h2>Output</h2>
    <pre>
      <code class="geojson">
        {
          data: {
            properties: {
              <a href='glossary.html#associated-by'>associated-by</a>: String,
              <a href='glossary.html#associated-by-installation'>associated-by-installation</a>: String,
              <a href='glossary.html#author'>author</a>: String,
              <a href='glossary.html#derived-magnitude'>derived-magnitude</a>: Decimal,
              <a href='glossary.html#derived-magnitude-type'>derived-magnitude-type</a>: String,
              <a href='glossary.html#installation'>installation</a>: String,
              <a href='glossary.html#is-internal'>is-internal</a>: Boolean,
              <a href='glossary.html#is-preferred-for-type'>is-preferred-for-type</a>: Boolean,
              <a href='glossary.html#num-stations-associated'>num-stations-associated</a>: Integer,
              <a href='glossary.html#num-stations-used'>num-stations-used</a>: Integer,
              moment-tensors: [
                {
                  <a href='glossary.html#azimuthal-gap'>azimuthal-gap</a>: Integer,
                  <a href='glossary.html#condition'>condition</a>: Decimal,
                  <a href='glossary.html#depth'>derived-depth</a>: Decimal,
                  <a href='glossary.html#time'>derived-eventtime</a>: String,
                  <a href='glossary.html#latitude'>derived-latitude</a>: Decimal,
                  <a href='glossary.html#longitude'>derived-longitude</a>: Decimal,
                  <a href='glossary.html#fit'>fit</a>: Decimal,
                  <a href='glossary.html#method'>method</a>: String,
                  <a href='glossary.html#nodal-plane-1-dip:'>nodal-plane-1-dip</a>: Decimal,
                  <a href='glossary.html#nodal-plane-1-slip'>nodal-plane-1-slip</a>: Decimal,
                  <a href='glossary.html#nodal-plane-1-strike'>nodal-plane-1-strike</a>: Decimal,
                  <a href='glossary.html#nodal-plane-2-dip:'>nodal-plane-2-dip</a>: Decimal,
                  <a href='glossary.html#nodal-plane-2-slip'>nodal-plane-2-slip</a>: Decimal,
                  <a href='glossary.html#nodal-plane-2-strike'>nodal-plane-2-strike</a>: Decimal,
                  <a href='glossary.html#percent-double-couple'>percent-double-couple</a>: Decimal,
                  <a href='glossary.html#preferred-solution'>preferred-solution</a>: Boolean,
                  <a href='glossary.html#scalar-moment'>scalar-moment</a>: Integer,
                  <a href='glossary.html#sourcetime-decaytime'>sourcetime-decaytime</a>: Integer,
                  <a href='glossary.html#sourcetime-duration'>sourcetime-duration</a>: Integer,
                  <a href='glossary.html#sourcetime-risetime'>sourcetime-risetime</a>: Integer,
                  <a href='glossary.html#sourcetime-type'>sourcetime-type</a>: String,
                  <a href='glossary.html#tensor-mpp'>tensor-mpp</a>: Integer,
                  <a href='glossary.html#tensor-mrp'>tensor-mrp</a>: Integer,
                  <a href='glossary.html#tensor-mrr'>tensor-mrr</a>: Integer,
                  <a href='glossary.html#tensor-mrt'>tensor-mrt</a>: Integer,
                  <a href='glossary.html#tensor-mtp'>tensor-mtp</a>: Integer,
                  <a href='glossary.html#tensor-mtt'>tensor-mtt</a>: Integer,
                  <a href='glossary.html#variance-reduction'>variance-reduction</a>: Decimal
                },
                ...
              ]
          },
          type: "Feature",
          <a href='glossary.html#id'>id</a>: String,
          geometry: {
            type: "Point",
            coordinates: [
              <a href='glossary.html#longitude'>longitude</a>,
              <a href='glossary.html#latitude'>latitude</a>,
              <a href='glossary.html#depth'>depth</a>
            ]
          }
        },
        error: Boolean,
        metadata: {
          date: String,
          url: String
        }
      }
      </code>
    </pre>

  <h2 id="example">Examples</h2>
  <p>
    Below are example requests and responses that detail the GeoJSON
    structure.  Click the link for an example to see the response.  These
    examples will only work for recent events on  Hydra-Black, substitute
    appropriate HUIDs for other Hydra Systems.
  </p>

  <ul>
    <li>
      <p>W-Phase magnitude with moment tensor:</p>
      <a class="example-url" href="magnitude.json?huid=50003UWR&author=wphase_module&installation=NEIC&type=Mww">
        magnitude.json?huid=50003UWR&author=wphase_module&installation=NEIC&magtype=Mww
      </a>
    </li>
    <li>
      <p>mb magnitude without moment tensor:</p>
      <a class="example-url" href="magnitude.json?huid=50003UWR&author=mb_module&installation=NEIC&type=mb">
        magnitude.json?huid=50003UWR&author=mb_module&installation=NEIC&magtype=mb
      </a>
    </li>
  </ul>
</div>
</main>
<footer class="site-commonnav">
  <a href="index.html">Hydra Web Service Documentation</a>
</footer>

<script src="js/example-url.js"></script>
</body>
</html>
